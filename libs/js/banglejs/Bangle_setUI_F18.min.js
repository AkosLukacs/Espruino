(function(c,d){var a={};"object"==typeof c&&(a=c,c=a.mode);var e=!0;global.WIDGETS&&WIDGETS.back&&(e=!1,WIDGETS.back.remove(c&&a.back));Bangle.btnWatches&&(Bangle.btnWatches.forEach(clearWatch),delete Bangle.btnWatches);Bangle.swipeHandler&&(Bangle.removeListener("swipe",Bangle.swipeHandler),delete Bangle.swipeHandler);Bangle.touchHandler&&(Bangle.removeListener("touch",Bangle.touchHandler),delete Bangle.touchHandler);delete Bangle.CLOCK;if(Bangle.uiRemove){let b=Bangle.uiRemove;
delete Bangle.uiRemove;b()}g.reset();if(c){if("updown"==c)Bangle.btnWatches=[setWatch(function(){d(-1)},BTN1,{repeat:1,edge:"falling"}),setWatch(function(){d(1)},BTN3,{repeat:1,edge:"falling"}),setWatch(function(){d()},BTN2,{repeat:1,edge:"falling"})];else if("leftright"==c)Bangle.btnWatches=[setWatch(function(){d(-1)},BTN1,{repeat:1,edge:"falling"}),setWatch(function(){d(1)},BTN3,{repeat:1,edge:"falling"}),setWatch(function(){d()},BTN2,{repeat:1,edge:"falling"})],Bangle.swipeHandler=b=>{d(b)},Bangle.on("swipe",
Bangle.swipeHandler),Bangle.touchHandler=b=>{d()},Bangle.on("touch",Bangle.touchHandler);else if("clock"==c)Bangle.CLOCK=1,Bangle.btnWatches=[setWatch(Bangle.showLauncher,BTN2,{repeat:1,edge:"falling"})];else if("clockupdown"==c)Bangle.CLOCK=1,Bangle.btnWatches=[setWatch(function(){d(-1)},BTN1,{repeat:1,edge:"falling"}),setWatch(function(){d(1)},BTN3,{repeat:1,edge:"falling"}),setWatch(Bangle.showLauncher,BTN2,{repeat:1,edge:"falling"})];else if("custom"==c)a.clock&&(Bangle.CLOCK=1),a.touch&&(Bangle.touchHandler=
a.touch,Bangle.on("touch",Bangle.touchHandler)),a.swipe&&(Bangle.swipeHandler=a.swipe,Bangle.on("swipe",Bangle.swipeHandler)),a.btn?Bangle.btnWatches=[setWatch(function(){a.btn(1)},BTN1,{repeat:1,edge:"falling"}),setWatch(function(){a.btn(2)},BTN2,{repeat:1,edge:"falling"}),setWatch(function(){a.btn(3)},BTN3,{repeat:1,edge:"falling"})]:a.clock&&(Bangle.btnWatches=[setWatch(Bangle.showLauncher,BTN2,{repeat:1,edge:"falling"})]);else throw Error("Unknown UI mode "+E.toJS(c));a.remove&&(Bangle.uiRemove=
a.remove);if(a.back){var f=b=>{1==b&&a.back()};Bangle.on("touch",f);WIDGETS=Object.assign({back:{area:"tl",width:24,draw:b=>g.reset().setColor("#f00").drawImage(atob("GBiBAAAYAAH/gAf/4A//8B//+D///D///H/P/n+H/n8P/n4f/vwAP/wAP34f/n8P/n+H/n/P/j///D///B//+A//8Af/4AH/gAAYAA=="),b.x,b.y),remove:b=>{Bangle.removeListener("touch",f);b||g.reset().clearRect({x:WIDGETS.back.x,y:WIDGETS.back.y,w:24,h:24});delete WIDGETS.back;b||Bangle.drawWidgets()}}},global.WIDGETS);e&&Bangle.drawWidgets()}}})